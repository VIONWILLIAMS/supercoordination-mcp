# 超协体·人机协同MCP服务器

**五行定位：** 🏔️ 土（生态基础）+ ⚙️ 金（协作法则）+ 🌳 木（技术系统）

## 🌟 社区协作模式（推荐）

适合同一栋楼/同一局域网的团队使用。

### 服务器启动（由服务器主机执行）

```bash
# 方式1: 使用启动脚本（推荐，自动防休眠）
cd ~/ClaudeWorkspace/supercoordination-mcp
./start-server.sh

# 方式2: 直接启动
npm start
```

**服务器地址**:
- 本地: `http://localhost:3000`
- 局域网: `http://192.168.1.3:3000`

### 团队成员接入

```bash
# 1. 创建工作目录
mkdir -p ~/ClaudeWorkspace/supercoordination-mcp
cd ~/ClaudeWorkspace/supercoordination-mcp

# 2. 配置MCP连接
cat > .mcp.json << 'EOF'
{
  "mcpServers": {
    "supercoordination": {
      "type": "http",
      "url": "http://192.168.1.3:3000/mcp"
    }
  }
}
EOF

# 3. 启动Claude Code
claude

# 4. 验证连接（在Claude中输入）
列出所有成员
```

## 完整闭环测试场景

### 场景：开发AIGC Studio虚拟IP模块

```
1. 注册成员（张三 - 技术专家）
2. 注册成员（李四 - 内容专家）
3. 创建任务：开发虚拟IP生成模块
4. 创建任务：设计IP内容策略
5. 智能匹配最佳成员
6. 分配任务
7. 更新任务进度
8. 查看团队仪表盘
9. 检查五行平衡
```

## 测试命令

在Claude Code中执行：

```
> "注册新成员：张三，技能包括Python、AI开发、系统架构，五行画像：木40%、水30%、火20%、金7%、土3%"

> "注册新成员：李四，技能包括内容创作、品牌策划、AI工具，五行画像：火35%、木25%、水25%、金10%、土5%"

> "创建任务：开发AIGC Studio虚拟IP生成模块，任务描述是实现从人设到内容的全自动化生产，五行属性为木，优先级S，需要技能Python、AI、系统架构"

> "创建任务：设计虚拟IP内容策略，任务描述是定义5个虚拟IP的人设和内容方向，五行属性为火，优先级A，需要技能内容创作、品牌策划"

> "为所有待分配任务找到最佳成员"

> "查看团队协作仪表盘，概览视图"

> "检查团队五行能量平衡"
```

## 服务器状态

- 端口：3000
- MCP端点：http://localhost:3000/mcp/manifest
- 健康检查：http://localhost:3000/health
- **数据持久化**: ✅ 已启用（JSON文件，自动保存/加载）

## 数据持久化

**版本**: v1.1 - JSON文件持久化

**特性**:
- ✅ 服务器重启后数据自动恢复
- ✅ Mac关机后数据不丢失
- ✅ 每次操作后自动保存
- ✅ 启动时显示数据加载状态

**数据文件**: `data/store.json`

**日志示例**:
```
[数据持久化] 已加载: 1 个任务, 1 个成员
[数据持久化] 上次保存时间: 2026-01-20T17:41:21.279Z
```

详细说明：查看 `数据持久化说明.md`
